<!doctype html>
<html>
<head>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width">
	<title>여행 준비물 점검 목록</title>
    <style>
        .close {
            margin-left: 100px;
        }
    </style>
</head>
<body>
	<div id="wrapper">
		<h2>여행 준비물 점검 목록</h2>
		<form>
			<input type="text" id="item" autofocus="true">
			<button type="button" id="add" class="addBtn">추가</button>
		</form>
		<div id="itemList"></div>
	</div>    
    <script>
        let itemList = [];
        const addBtn = document.querySelector("#add");
        
        addBtn.addEventListener("click" , addList);

        function addList() {
            const item = document.querySelector("#item").value;
            if (item != null){
                itemList.push(item);
                document.querySelector("#item").value = "";
                document.querySelector("#item").focus();
            }
            showList();
        };
        
        function showList() {
            let list = "<ul>";
            for (var i=0; i<itemList.length; i++) {
                list += "<li>" + itemList[i] + "<span class ='close' id =" +  i + "> X </span></li>";
            };
            list += "</ul>" ;
            document.querySelector("#itemList").innerHTML = list;

            const remove = document.querySelectorAll(".close");
            for (var i = 0; i<remove.length; i++) {
                remove[i].addEventListener("click" , removeList);
            }
        };

        function removeList() {
            const id = this.getAttribute("id");
            itemList.splice(id);
            showList();
        }
    </script>
</body>
</html>